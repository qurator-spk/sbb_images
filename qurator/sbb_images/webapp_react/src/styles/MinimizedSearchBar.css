.minimized-search-bar {
    position: fixed;
    top: var(--semantic-distance-terra); /* 6rem to leave space for the existing header */
    left: 0;
    width: 100%;
    background-color: var(--semantic-color-interactive-subtle); /* SPK-Blau 10 */
    border-top: var(--semantic-size-hairline) solid var(--semantic-color-accent-orange);
    border-bottom: var(--semantic-size-hairline) solid var(--semantic-color-stroke-subtle);/* SPK Grau 30*/
    z-index: 5; /* same as header */
    box-shadow: 0 0.2rem 0.4rem rgba(0, 0, 0, 0.2);
  }

@media (max-width: 36rem) {
  .minimized-search-bar {
    top: 5rem; /* up 1rem because header is narrower (5rem) */
  }
}

.min-content-container{
  width: 80%; 
  margin: 0 auto; 
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--semantic-distance-medium) 0; 
}

.search-content {
  display: flex;
  align-items: center;
  gap: clamp(0.5rem, 1vw, 0.75rem);
  font-size: clamp(0.9rem, 2vw, 1rem);
  margin: 0;
}

.search-thumbnail {
  height: clamp(2.5rem, 5vw, 3.5rem); /* Min 40px, Max 56px (at 16px base font) */
  width: clamp(2.5rem, 5vw, 3.5rem); 
  object-fit: contain;
  border: var(--semantic-size-hairline) solid var(--semantic-color-stroke-subtle); 
  background-color: var(--semantic-color-background-base);
  border-radius: var(--semantic-distance-extra-small); /* 0.25rem */ 
  cursor: pointer;
  transition: transform 0.2s;
}

.search-thumbnail:hover {
  transform: scale(1.05);
  border-color: var(--semantic-color-text-primary);
}

canvas.search-thumbnail {
  display: block;
}

.search-actions {
  display: flex;
  gap: var(--semantic-distance-large);
  margin: 0;
}

.back-to-top-button {
  padding: var(--semantic-distance-compact) var(--semantic-distance-large);
  border: none;
  border-radius: var(--semantic-distance-extra-small);
  cursor: pointer;
  background-color: var(--semantic-color-interactive-base); 
  color: var(--semantic-color-text-inverse-heavy);
}

@media (hover: hover) and (pointer: fine) {
  .back-to-top-button:hover {
    background-color: var(--semantic-color-interactive-strong); 
  }
}

.back-to-top-button:focus-visible {
  outline-width: var(--component-focus-visible-outline-width);
  outline-style: solid;
  outline-color: var(--semantic-color-interactive-base);
  outline-offset: var(--component-focus-visible-shadow-spread);
}

@media (max-width: 48rem) {
  .back-to-top-button {
    width: 2.5rem; 
    height: 2.5rem;
    padding: 0; 
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--semantic-font-size-body); /* 1.125rem for visible icon */
  }
  
  .back-to-top-button .button-text {
    display: none;
  }
}

.thumbnail-preview {
  position: fixed;
  top: calc(6rem + 5rem); /* 6rem + 5rem - just below the bar */
  left: calc((100% - 80%) / 2);
  max-width: 20vw;
  background: rgba(255, 255, 255, 0.90);
  border: var(--semantic-size-hairline) solid var(--semantic-color-stroke-subtle);
  border-radius: 0.3em;
  box-shadow: 0 0.375rem 1rem rgba(0, 0, 0, 0.6);
  padding: var(--semantic-distance-triple-large);
  z-index: 6;
  cursor: grab;
}

@media (max-width: 62rem) {
  .thumbnail-preview {
    padding: var(--semantic-distance-double-large); 
    top: 10.125rem; /* 6rem header + 4.125rem bar height */
    max-width: 40vw; 
  }
}

@media (max-width: 36rem) {
  .thumbnail-preview {
    padding: var(--semantic-distance-large);
    top: calc(9rem + 0.25rem); /* 5rem header + 4rem bar */
    max-width: 40vw; 
  }
}

.thumbnail-preview.dragging {
  cursor: grabbing;
  opacity: 0.9;
  box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.3);
}

.preview-image-container {
  position: relative; 
  overflow: hidden;
  width: 100%;
  height: 100%; 
  margin: 0 auto;
}

.preview-image {
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
}

.preview-crop-indicator {
  position: absolute;
  border: 2px solid var(--semantic-color-interactive-base);
  box-shadow: 0 0 0 1000px rgba(0, 0, 0, 0.5);
  pointer-events: none;
}

.close-preview {
  position: absolute;
  top: -16px;
  right: -16px;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  background-color: var(--semantic-color-interactive-base);
  color: var(--semantic-color-text-inverse-heavy);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: var(--semantic-font-size-heading);
}

@media (max-width: 36rem) {
  .close-preview {
    width: 1.5rem; /* 24px on mobile - smaller */
    height: 1.5rem;
    font-size: var(--semantic-font-size-text); /* 1rem - smaller icon */
    top: -12px;
    right: -12px;
  }
}

@media (hover: hover) and (pointer: fine) {
  .close-preview:hover{
    background-color: var(--semantic-color-interactive-strong); 
  }
}

@media (max-width: 36rem) {
  .min-content-container {
    gap: var(--semantic-distance-compact); 
  }

  .search-content {
    gap: var(--semantic-distance-extra-small); 
  }
}
